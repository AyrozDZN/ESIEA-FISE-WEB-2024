**MODULE-05**

**Système de Gestion d'Utilisateurs en PHP, HTML, CSS, MySQL**

**Objectif:**
Développer un système de gestion d'utilisateurs en utilisant PHP, HTML, CSS et MySQL, excluant l'utilisation de JavaScript.

#### User Story/UseCase Textuel : Système de Gestion d'Utilisateurs
   1. Champs utilisateur :
      - id (AI)
      - nom
      - prenom
      - Adresse
      - Role (Input hidden, valeur défini à 2 pour chaque nouvel inscrit)
      - email
      - password
   2. Inscription obligatoire pour la connexion via email.
   3. Connexion réussie redirige vers la page profil.
   4. Échec de connexion redirige vers la page de login.
   5. Vérification de l'existence de l'email lors de l'inscription. Enregistrement si non existant, sinon affichage d'un message d'erreur.
   6. Un utilisateur peut voir ses informations sur son profil.
   7. Il peut modifier son nom, prénom, email, ou le mot de passe.
   8. Possibilité de clôturer ou supprimer son compte.

**Organisation et structure des dossiers:**
```plaintext
|-- index.php (point d'entrée de l'application)
|-- /functions (dossier des fonctions gérant le backend et la couche de persistance des données)
|-- requestHandler.php (gère les requêtes, agissant implicitement comme contrôleur de votre application)
|-- /templates (frontend de l'application, les vues)
|   |-- home.php
|   |-- login.php
|   |-- register.php
|   |-- profil.php ou dashboard.php
|   |-- parts
|       |-- header.php
|       |-- footer.php
|-- assets
|   |-- css
|       |-- style.css
|   |-- js
|       |-- main.js
|   |-- fonts
|       |-- UneTypoGoogleDeVotreChoix.ttf
|   |-- img
|       |-- logo.png
```

1. **Création de la Table dans MySQL :**
   - Utilisation de la requête SQL pour créer la table dans la base de données.

     ```sql
     CREATE TABLE utilisateurs (
         id INT AUTO_INCREMENT PRIMARY KEY,
         nom VARCHAR(50) NOT NULL,
         prenom VARCHAR(50) NOT NULL,
         adresse VARCHAR(50) NOT NULL,
         email VARCHAR(100) NOT NULL,
         password VARCHAR(255) NOT NULL,
         role VARCHAR(50) NOT NULL
     );
     ```
2. `request_handler.php` : Gère les requêtes, dirige le flux de contrôle vers la route approprié définie dans la fonction controller() du fichier controller.php.

3. **Fichiers dans le Dossier "functions":**  
   
   b. `functions/controller.php` : fonction agissant en tant que routeur/contrôleur en définissant des routes au préalable.
   
   c. `functions/model.php` : Gestion de la persistance des données, interactions avec la base de données.

   d. `templates` : Partie front (vues) de votre projet.

4. **Sécurité:**
   - Mise en œuvre de mesures de sécurité contre les attaques :
     - **XSS (Cross-Site Scripting):**
       Utilisation de `htmlspecialchars` lors de l'affichage des données utilisateur pour prévenir les attaques XSS.
     
     - **CSRF (Cross-Site Request Forgery):**
       Génération et utilisation de tokens CSRF pour toutes les actions sensibles afin de prévenir les attaques CSRF.
     
     - **Injection SQL:**
       Utilisation de Try Catch et de requêtes préparées ou de fonctions d'échappement pour empêcher les attaques par injection SQL.

     - **Regex:**
       Manipulation de chaînes de caractères en utilisant un motif défini.
       
     - **Testes de sécurité:**
       Faire des testes de sécurité avec phpUnit et les documenter.
       
           
6. **Normes de Codage:**
   - Respect des normes de nommage PHP et MySQL (par exemple, camelCase pour les variables en PHP, snake_case pour les noms de table en MySQL).
   - Commentaires appropriés pour assurer une compréhension claire du fonctionnement du système.
   - Respecter le principe de Single Responsability en gardant une cohérence dans les couches/layers de votre application 

Ce système vise à assurer la sécurité, la lisibilité du code et le respect des normes de développement, conformément aux exigences du projet.

---

**Versioning :**

**a. Mise en place d'un repository GitHub:**
Établissement d'un système de versioning en créant un repository GitHub pour le projet. Des commits réguliers seront effectués pour garantir un suivi continu du développement, et un readme.md file fera office de documentation du projet.

---

**Diagramme de flux :**

![image](https://github.com/yugmerabtene/ESIEA-FISE-WEB-2024/assets/3670077/8acf0d84-40ff-4ff0-b252-84fdc2b7076f)
